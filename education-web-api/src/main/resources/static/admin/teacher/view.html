<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../../layui/css/layui.css"/>
    <link rel="stylesheet" href="../../common/css/common.css">
    <style>

    </style>
</head>
<body>
<div class="content-wrpper">
    <div class="list">
        <!-- header -->
        <div class="layui-form mizone-add">
            <div class="infor-show-dotted">
                <i class="icon-gongsisvgtubiaozongji22"
                   style="color:#009cff;background-color: #009cff;font-size: 12px!important;"></i>
                <span>教师信息</span>
            </div>
            <form id="form">

            </form>
            <div class="layui-inline">
                <button class="layui-btn layui-btn-small save" lay-submit="" lay-filter="save">
                    确定
                </button>
                <button id="cancel" class="layui-btn layui-btn-small">返回</button>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="../../common/js/common.js"></script>
    <script type="x-jsrender" id="source_content">
           <input type="hidden" id="id" name="id" value="{{:id}}">
                <div class="layui-form-item form-item-margButtom5">
                    <div class="layui-inline">
                        <label class="layui-form-label padd_top"><span style="color:red">*</span>登录账号:</label>
                        <div class="layui-input-inline">
                            <input type="text" id="name" lay-verify="required" value="{{:name}}" maxlength="40" name="name" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </div>
                <div class="layui-form-item form-item-margButtom5">
                    <div class="layui-inline">
                        <label class="layui-form-label padd_top"><span style="color:red">*</span>身份证:</label>
                        <div class="layui-input-inline">
                            <input type="text" id="idCard" lay-verify="required"  value="{{:idCard}}"   maxlength="40" name="idCard" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </div>
                <div class="layui-form-item form-item-margButtom5">
                    <div class="layui-inline">
                        <label class="layui-form-label padd_top"><span style="color:red">*</span>性别:</label>
                      <div class="layui-input-inline">
                            <select id="sex" name="sex" lay-verify="required" value="{{:sex}}" style="display:block">
                                <option value="MAN" {{if sex=='MAN'}}selected {{/if}}>男</option>
                                <option value="WOMAN" {{if sex=='WOMAN'}}selected {{/if}}>女</option>
                            </select>
                        </div>

                    </div>
                </div>

                <div class="layui-form-item form-item-margButtom5">
                    <div class="layui-inline">
                        <label class="layui-form-label padd_top"><span style="color:red">*</span>职位:</label>
                        <div class="layui-input-inline">
                            <select id="staffType" name="staffType" lay-verify="required" value="{{:staffType}}"  style="display:block">
                                <option value="TEACHER"{{if staffType=='TEACHER'}}selected {{/if}}>老师</option>
                                <option value="SCHOOL_MASTER" {{if staffType=='SCHOOL_MASTER'}}selected {{/if}}>校长</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="layui-form-item form-item-margButtom5">
                    <div class="layui-inline">
                        <label class="layui-form-label padd_top">邮件</label>
                        <div class="layui-input-inline">
                            <input type="text" id="email" autocomplete="off" name="email" value="{{:email}}"  class="layui-input"  maxlength="100">
                        </div>
                    </div>
                </div>
                <div class="layui-form-item form-item-margButtom5">
                    <div class="layui-inline">
                        <label class="layui-form-label padd_top">手机号码</label>
                        <div class="layui-input-inline">
                            <input type="text" id="mobile"  name="mobile" lay-verify="required" value="{{:mobile}}"autocomplete="off" class="layui-input" disabled="disabled">
                        </div>
                    </div>
                </div>
                <div class="layui-form-item form-item-margButtom5">
                    <div class="layui-inline">
                        <label class="layui-form-label padd_top">电话号码</label>
                        <div class="layui-input-inline">
                            <input type="text" id="telephone" name="telephone" value="{{:telephone}}" autocomplete="off" class="layui-input" disabled="disabled">
                        </div>
                    </div>
                </div>
    </script>
    <script>
        $(window).ready(function () {
            layui.use(['form', 'layedit', 'laytpl', 'laydate','myAjax'], function () {
                var form = layui.form();
                var layer = layui.layer , myAjax = layui.myAjax;
                myAjax.ajaxTep("/api/admin/teacher/info?id="+getParam("id"),"form","source_content",false,function (dataJson) {
                    return dataJson;
                });
                form.on('submit(save)', function (data) {
                    saveInfo();
                });
                saveInfo = function () {
                    ajaxsend($("form").serialize(), "/api/admin/teacher/save", function (dataJson) {
                        if (dataJson.result == true) {
                            callParent.parentUse("member_page", "refresh");
                            $("#cancel").click();
                        } else {
                            layer.alert(data.message, {icon: 5});
                        }
                    }, "postForm");
                }

                $("#cancel").click(function () {
                    callParent.openTab("member_page");
                    callParent.closeTab("member_view");
                })
            })
        })
    </script>
</body>
</html>